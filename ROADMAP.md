# План развития ProrabCRM

В этом документе представлен план развития системы ProrabCRM на ближайшее время. Документ отражает основные направления развития проекта и будет обновляться по мере реализации указанных задач.

## ✅ ВЫПОЛНЕННЫЕ ИСПРАВЛЕНИЯ И УЛУЧШЕНИЯ (2025-05-31)

### ✅ Исправление критических ошибок системы
- ✅ **Исправлены JavaScript ошибки** в заказах покупателей, блокирующие кнопки
- ✅ **Исправлена проблема с заказами поставщиков**:
  - Добавлены недостающие колонки в таблицу `PCRM_PurchaseOrder`: `organization`, `warehouse_id`, `delivery_address`, `comment`, `created_by`
  - Добавлен PRIMARY KEY для таблицы `PCRM_PurchaseOrderItem`
  - Настроен AUTO_INCREMENT для корректного сохранения товаров
- ✅ **Удалены все блоки invalid-feedback** во всех модулях для улучшения UX
- ✅ **Улучшено модальное окно несохраненных изменений**:
  - Сделано шире (modal-lg)
  - Добавлены иконки к кнопкам
  - Улучшено горизонтальное расположение кнопок

### ✅ Стабилизация базовой функциональности
- ✅ **Заказы покупателей**: полностью работают (создание, редактирование, сохранение)
- ✅ **Заказы поставщиков**: полностью работают (создание, редактирование, сохранение)
- ✅ **Модальные окна**: корректная работа во всех модулях
- ✅ **Базовые справочники**: стабильная работа

---

## Расширение функциональности базовых справочников

### ✅ Единицы измерения
- ✅ Создать новую таблицу `PCRM_Measurement` для хранения базовых единиц измерения:
  - упаковка 
  - рулон
  - лист
  - тонна
  - мешок
  - кг
  - метр погонный (м.пог.)
  - штука (по умолчанию)
- ⚠️ Внести изменения в таблицу товаров, добавив колонку для указания допустимых единиц измерения **ЧАСТИЧНО** (таблица связи создана, но интерфейс не доработан)

### Тестовые данные
- Добавить несколько "реальных" контрагентов для тестирования функционала полного цикла
- Добавить несколько реальных товаров и категорий для тестирования

## Интеграция с внешними модулями

### Интеграция prorabmanager
- Внедрить prorabmanager в виде модуля:
  - Сохранить существующую структуру таблиц
  - Интегрировать функционал в основное приложение
- Обеспечить взаимодействие с модулем "Заказ покупателя":
  - Добавить функции быстрого расчета стоимости доставки из prorabmanager
  - Обеспечить совместимость интерфейсов

## Улучшение пользовательского интерфейса

### Адаптивный дизайн
- Создать адаптивный дизайн для мобильных устройств:
  - iPhone 10, 11, 12, 12 Pro и выше
  - Проверить работу на различных мобильных устройствах
- Оптимизировать интерфейс для десктопных экранов с меньшим разрешением



## Расширение функциональности системы

### Управление пользователями
- Создать дополнительные учетные записи пользователей для тестирования
- Реализовать модуль управления доступом:
  - Добавить функционал для скрытия модулей от пользователей
  - Обеспечить доступ к модулю только для администраторов

### Модуль контроля задолженностей
- Реализовать модуль "Долги", который будет:
  - Отображать баланс контрагента
  - Учитывать все РКО и ПКО по контрагенту
  - Сравнивать с суммарной стоимостью заказов
  - Выявлять задолженности в обе стороны

### Тестирование и отладка
- Создать тест-скрипт для проверки связей между таблицами и модулями:
  - Разработать интерфейс для выбора модуля для тестирования
  - Реализовать проверку всех используемых таблиц БД
  - Выводить отчет о результатах проверки (найдены/не найдены таблицы, корректность подключения) 